var ye=Object.defineProperty;var Xe=(i,e,s)=>e in i?ye(i,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):i[e]=s;var t=(i,e,s)=>Xe(i,typeof e!="symbol"?e+"":e,s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))h(a);new MutationObserver(a=>{for(const m of a)if(m.type==="childList")for(const l of m.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&h(l)}).observe(document,{childList:!0,subtree:!0});function s(a){const m={};return a.integrity&&(m.integrity=a.integrity),a.referrerPolicy&&(m.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?m.credentials="include":a.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function h(a){if(a.ep)return;a.ep=!0;const m=s(a);fetch(a.href,m)}})();const xe=document.getElementById("gameScreen");function Fe(){xe.style.display="flex"}const ke=document.getElementById("canvas1"),n=ke.getContext("2d");let C=[],b=[],u=[];const bt=new Image;bt.src="./images/enemy1.png";b.push(bt);const Yt=new Image;Yt.src="./images/battleturtleattack.png";b.push(Yt);const Et=new Image;Et.src="./images/enemy3.png";b.push(Et);const $t=new Image;$t.src="./images/centipidewalk.png";b.push($t);class Y{constructor(e,s,h,a){t(this,"x");t(this,"y");t(this,"width");t(this,"height");this.x=e,this.y=s,this.width=h,this.height=a}draw(){}enemyMovement(){}}class Se extends Y{constructor(s,h){super(s,h,M,B);t(this,"speed");t(this,"moment");t(this,"health");t(this,"pointsAwarded");t(this,"frameX");t(this,"frameY");t(this,"eachWidth");t(this,"eachHeight");t(this,"firstFrame");t(this,"lastFrame");t(this,"enemytype");t(this,"state");t(this,"attackAnimationFrames");t(this,"hurtAnimationFrames");t(this,"deathAnimationFrames");t(this,"dustCloudAnimationFrames");t(this,"attackImageSrc");t(this,"hurtImageSrc");t(this,"deathImageSrc");t(this,"dustCloudImageSrc");t(this,"attackImage");t(this,"hurtImage");t(this,"deathImage");t(this,"dustCloudImage");t(this,"endurance");t(this,"isCollidingWithVilan");t(this,"isCollidingWithHero");t(this,"type");this.speed=.4,this.moment=this.speed,this.health=120,this.pointsAwarded=this.health,this.frameX=0,this.frameY=0,this.eachWidth=900,this.eachHeight=900,this.firstFrame=1,this.lastFrame=11,this.enemytype=b[0],this.attackAnimationFrames=11,this.hurtAnimationFrames=11,this.deathAnimationFrames=14,this.dustCloudAnimationFrames=4,this.attackImageSrc="./images/zomievillagerattack.png",this.hurtImageSrc="./images/zomievillagerhurt.png",this.deathImageSrc="./images/zomievillagerdeath.png",this.dustCloudImageSrc="./images/mandrake-dust-cloud.png",this.attackImage=new Image,this.attackImage.src=this.attackImageSrc,this.hurtImage=new Image,this.hurtImage.src=this.hurtImageSrc,this.deathImage=new Image,this.deathImage.src=this.deathImageSrc,this.dustCloudImage=new Image,this.dustCloudImage.src=this.dustCloudImageSrc,this.state="idle",this.endurance=20,this.isCollidingWithVilan=!1,this.isCollidingWithHero=!1,this.type="enemy"}enemyMovement(){this.x=this.x-this.speed,r%5===0&&(this.frameX<this.lastFrame?this.frameX+=1:this.frameX=this.firstFrame)}draw(){switch(n.fillStyle="gold",n.font="10px Arial",n.fillText(this.health.toString(),this.x+25,this.y+10),this.state){case"idle":r%17===0&&(this.frameX<this.lastFrame?this.frameX+=1:this.frameX=this.firstFrame),n.drawImage(this.enemytype,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y,this.width,this.height);break;case"attacking":r%10===0&&(this.frameX<this.attackAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),n.drawImage(this.attackImage,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y,this.width,this.height);break;case"hurt":r%8===0&&(this.frameX<this.hurtAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),n.drawImage(this.hurtImage,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y,this.width,this.height);break;case"dead":r%10===0&&(this.frameX<this.deathAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),n.drawImage(this.deathImage,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y,this.width,this.height);break;case"dustcloud":r%8===0&&(this.frameX<this.dustCloudAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),n.drawImage(this.dustCloudImage,200*this.frameX,0,200,179,this.x,this.y,this.width,this.height);break}}}class Ce extends Y{constructor(s,h){super(s,h,M,B);t(this,"type");t(this,"speed");t(this,"moment");t(this,"health");t(this,"pointsAwarded");t(this,"frameX");t(this,"frameY");t(this,"eachWidth");t(this,"eachHeight");t(this,"firstFrame");t(this,"lastFrame");t(this,"enemytype");t(this,"state");t(this,"attackAnimationFrames");t(this,"hurtAnimationFrames");t(this,"deathAnimationFrames");t(this,"dustCloudAnimationFrames");t(this,"attackImageSrc");t(this,"hurtImageSrc");t(this,"deathImageSrc");t(this,"dustCloudImageSrc");t(this,"attackImage");t(this,"hurtImage");t(this,"deathImage");t(this,"dustCloudImage");t(this,"endurance");t(this,"isCollidingWithVilan");t(this,"isCollidingWithHero");t(this,"shootInterval");t(this,"lastShotTime");t(this,"projectileImageSrc");this.speed=.4,this.moment=this.speed,this.health=120,this.pointsAwarded=this.health,this.frameX=0,this.frameY=0,this.eachWidth=72.5,this.eachHeight=72,this.firstFrame=0,this.lastFrame=11,this.type="enemy",this.enemytype=b[1],this.attackAnimationFrames=3,this.hurtAnimationFrames=1,this.deathAnimationFrames=3,this.dustCloudAnimationFrames=4,this.attackImageSrc="./images/battleturtlefight.png",this.hurtImageSrc="./images/battleturtlehurt.png",this.deathImageSrc="./images/battleturtledead.png",this.dustCloudImageSrc="./images/mandrake-dust-cloud.png",this.attackImage=new Image,this.attackImage.src=this.attackImageSrc,this.hurtImage=new Image,this.hurtImage.src=this.hurtImageSrc,this.deathImage=new Image,this.deathImage.src=this.deathImageSrc,this.dustCloudImage=new Image,this.dustCloudImage.src=this.dustCloudImageSrc,this.state="idle",this.endurance=20,this.isCollidingWithVilan=!1,this.isCollidingWithHero=!1,this.shootInterval=1e3,this.lastShotTime=300,this.projectileImageSrc="./images/ninjaturtlebullet.png"}shoot(){const s=new at(this.x+this.width-30,this.y+20,-3,this.projectileImageSrc,"fireball",128,128,0,0,128,128);C.push(s)}enemyMovement(){const s=Date.now();s-this.lastShotTime>=this.shootInterval&&(console.log("Hello"),console.log(this.shootInterval),this.shoot(),this.lastShotTime=s),this.x=this.x-this.speed,r%5===0&&(this.frameX<this.lastFrame?this.frameX+=1:this.frameX=this.firstFrame)}draw(){switch(n.fillStyle="gold",n.font="10px Arial",n.fillText(this.health.toString(),this.x+25,this.y+10),this.state){case"idle":r%100===0&&(this.frameX<this.lastFrame?this.frameX+=1:this.frameX=this.firstFrame),n.drawImage(this.enemytype,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y-20,this.width,this.height+10);break;case"attacking":r%5===0&&(this.frameX<this.attackAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),n.drawImage(this.attackImage,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y-20,this.width,this.height+10);break;case"hurt":r%5===0&&(this.frameX<this.hurtAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),n.drawImage(this.hurtImage,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y-20,this.width,this.height+10);break;case"dead":r%15===0&&(this.frameX<this.deathAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),n.drawImage(this.deathImage,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y-20,this.width,this.height+10);break;case"dustcloud":r%8===0&&(this.frameX<this.dustCloudAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),n.drawImage(this.dustCloudImage,200*this.frameX,0,200,179,this.x,this.y,this.width,this.height);break}}}class We extends Y{constructor(s,h){super(s,h,M,B);t(this,"type");t(this,"speed");t(this,"moment");t(this,"health");t(this,"pointsAwarded");t(this,"frameX");t(this,"frameY");t(this,"eachWidth");t(this,"eachHeight");t(this,"firstFrame");t(this,"lastFrame");t(this,"enemytype");t(this,"state");t(this,"attackAnimationFrames");t(this,"hurtAnimationFrames");t(this,"deathAnimationFrames");t(this,"dustCloudAnimationFrames");t(this,"attackImageSrc");t(this,"hurtImageSrc");t(this,"deathImageSrc");t(this,"dustCloudImageSrc");t(this,"attackImage");t(this,"hurtImage");t(this,"deathImage");t(this,"dustCloudImage");t(this,"endurance");t(this,"isCollidingWithVilan");t(this,"isCollidingWithHero");this.type="enemy",this.speed=.4,this.moment=this.speed,this.health=120,this.pointsAwarded=this.health,this.frameX=0,this.frameY=0,this.eachWidth=72,this.eachHeight=72,this.firstFrame=0,this.lastFrame=3,this.enemytype=b[3],this.attackAnimationFrames=15,this.hurtAnimationFrames=1,this.deathAnimationFrames=3,this.dustCloudAnimationFrames=4,this.attackImageSrc="./images/centipideattack.png",this.hurtImageSrc="./images/centipidehurt.png",this.deathImageSrc="./images/centipidedeath.png",this.dustCloudImageSrc="./images/mandrake-dust-cloud.png",this.attackImage=new Image,this.attackImage.src=this.attackImageSrc,this.hurtImage=new Image,this.hurtImage.src=this.hurtImageSrc,this.deathImage=new Image,this.deathImage.src=this.deathImageSrc,this.dustCloudImage=new Image,this.dustCloudImage.src=this.dustCloudImageSrc,this.state="idle",this.endurance=20,this.isCollidingWithVilan=!1,this.isCollidingWithHero=!1}enemyMovement(){this.x=this.x-this.speed,r%5===0&&(this.frameX<this.lastFrame?this.frameX+=1:this.frameX=this.firstFrame)}draw(){switch(n.fillStyle="gold",n.font="10px Arial",n.fillText(this.health.toString(),this.x+25,this.y+10),this.state){case"idle":r%100===0&&(this.frameX<this.lastFrame?this.frameX+=1:this.frameX=this.firstFrame),n.drawImage(this.enemytype,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y-30,this.width+20,this.height+20);break;case"attacking":r%500===0&&(this.frameX<this.attackAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),n.drawImage(this.attackImage,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y-30,this.width+20,this.height+20);break;case"hurt":r%8===0&&(this.frameX<this.hurtAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),n.drawImage(this.hurtImage,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y-30,this.width+20,this.height+20);break;case"dead":r%10===0&&(this.frameX<this.deathAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),n.drawImage(this.deathImage,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y-30,this.width+20,this.height+20);break;case"dustcloud":r%8===0&&(this.frameX<this.dustCloudAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),n.drawImage(this.dustCloudImage,200*this.frameX,0,200,179,this.x,this.y,this.width,this.height);break}}}class Ae extends Y{constructor(s,h){super(s,h,M,B);t(this,"type");t(this,"speed");t(this,"moment");t(this,"health");t(this,"pointsAwarded");t(this,"frameX");t(this,"frameY");t(this,"eachWidth");t(this,"eachHeight");t(this,"firstFrame");t(this,"lastFrame");t(this,"enemytype");t(this,"state");t(this,"attackAnimationFrames");t(this,"hurtAnimationFrames");t(this,"deathAnimationFrames");t(this,"dustCloudAnimationFrames");t(this,"attackImageSrc");t(this,"hurtImageSrc");t(this,"deathImageSrc");t(this,"dustCloudImageSrc");t(this,"attackImage");t(this,"hurtImage");t(this,"deathImage");t(this,"dustCloudImage");t(this,"endurance");t(this,"isCollidingWithVilan");t(this,"isCollidingWithHero");this.type="enemy",this.speed=.4,this.moment=this.speed,this.health=120,this.pointsAwarded=this.health,this.frameX=0,this.frameY=0,this.eachWidth=900,this.eachHeight=900,this.firstFrame=0,this.lastFrame=11,this.enemytype=b[2],this.attackAnimationFrames=11,this.hurtAnimationFrames=11,this.deathAnimationFrames=14,this.dustCloudAnimationFrames=4,this.attackImageSrc="./images/fallenangelattack.png",this.hurtImageSrc="./images/fallenangelhurt.png",this.deathImageSrc="./images/fallenangeldeath.png",this.dustCloudImageSrc="./images/mandrake-dust-cloud.png",this.attackImage=new Image,this.attackImage.src=this.attackImageSrc,this.hurtImage=new Image,this.hurtImage.src=this.hurtImageSrc,this.deathImage=new Image,this.deathImage.src=this.deathImageSrc,this.dustCloudImage=new Image,this.dustCloudImage.src=this.dustCloudImageSrc,this.state="idle",this.endurance=20,this.isCollidingWithVilan=!1,this.isCollidingWithHero=!1}enemyMovement(){this.x=this.x-this.speed,r%5===0&&(this.frameX<this.lastFrame?this.frameX+=1:this.frameX=this.firstFrame)}draw(){switch(n.fillStyle="gold",n.font="10px Arial",n.fillText(this.health.toString(),this.x+25,this.y+10),this.state){case"idle":r%17===0&&(this.frameX<this.lastFrame?this.frameX+=1:this.frameX=this.firstFrame),n.drawImage(this.enemytype,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y,this.width,this.height);break;case"attacking":r%10===0&&(this.frameX<this.attackAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),n.drawImage(this.attackImage,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y,this.width,this.height);break;case"hurt":r%8===0&&(this.frameX<this.hurtAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),n.drawImage(this.hurtImage,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y,this.width,this.height);break;case"dead":r%10===0&&(this.frameX<this.deathAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),n.drawImage(this.deathImage,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y,this.width,this.height);break;case"dustcloud":r%8===0&&(this.frameX<this.dustCloudAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),n.drawImage(this.dustCloudImage,200*this.frameX,0,200,179,this.x,this.y,this.width,this.height);break}}}const Mt=[Ae,Se,Ce,We];function ve(){for(let i=0;i<u.length;i++)u[i].enemyMovement(),u[i].draw(),u[i].x+u[i].width<0&&(u.splice(i,1),i--);for(let i=C.length-1;i>=0;i--)C[i]&&C[i].update(C[i]),C[i]&&C[i].draw(n)}let I=[];class at{constructor(e,s,h,a,m,l,c,R,j,O,V){t(this,"x");t(this,"y");t(this,"speed");t(this,"width");t(this,"height");t(this,"image");t(this,"type");t(this,"firstframe");t(this,"lastframe");t(this,"eachwidth");t(this,"eachheight");t(this,"firedPosition");this.x=e,this.y=s,this.firedPosition=this.x,this.speed=h,this.width=c,this.height=l,this.image=new Image,this.image.src=a,this.type=m,this.firstframe=R,this.lastframe=j,this.eachwidth=O,this.eachheight=V}draw(e){console.log("Hello"),e.drawImage(this.image,this.eachwidth*this.firstframe,0,this.eachwidth,this.eachheight,this.x,this.y,this.width,this.height),r%10===0&&(this.firstframe<this.lastframe?this.firstframe+=1:this.firstframe=this.firstframe)}update(e){Math.abs(this.x-this.firedPosition)>=64*3.5?(k(I,e),k(C,e)):(console.log(this.speed),this.x+=this.speed)}}const He=document.getElementById("canvas1"),tt=He.getContext("2d");let X=[];class et{constructor(e,s,h,a,m,l){t(this,"value");t(this,"x");t(this,"y");t(this,"size");t(this,"life");t(this,"color");t(this,"opacity");this.value=e,this.x=s,this.y=h,this.size=a,this.life=m,this.color=l,this.opacity=1}update(){this.y=this.y-.6,this.life=this.life+1,this.opacity>.02&&(this.opacity-=.02)}draw(){tt.globalAlpha=this.opacity,tt.fillStyle=this.color,tt.font=`${this.size}px Georgia`,tt.fillText(this.value.toString(),this.x,this.y),tt.globalAlpha=1}}function Te(){for(let i=0;i<=X.length-1;i++)X[i].draw(),X[i].update(),X[i].life>5e8&&k(X,X[i])}class E{constructor(e,s,h,a,m,l,c,R,j,O,V,Z,_,ce,ge,fe,ue,pe,Ie,we){t(this,"x");t(this,"y");t(this,"speed");t(this,"health");t(this,"frameX");t(this,"frameY");t(this,"eachWidth");t(this,"eachHeight");t(this,"firstFrame");t(this,"lastFrame");t(this,"image");t(this,"width");t(this,"height");t(this,"state");t(this,"attackAnimationFrames");t(this,"hurtAnimationFrames");t(this,"deathAnimationFrames");t(this,"dustCloudAnimationFrames");t(this,"moment");t(this,"attackImageSrc");t(this,"hurtImageSrc");t(this,"deathImageSrc");t(this,"dustCloudImageSrc");t(this,"attackImage");t(this,"hurtImage");t(this,"deathImage");t(this,"dustCloudImage");t(this,"endurance");t(this,"projectileImageSrc");t(this,"modulo");this.x=s,this.y=h,this.speed=a,this.moment=this.speed,this.health=m,this.frameX=l,this.frameY=0,this.eachWidth=R,this.eachHeight=j,this.firstFrame=l,this.lastFrame=c,this.image=new Image,this.image.src=e,this.width=64,this.height=64,this.health=m,this.state="idle",this.attackAnimationFrames=ce,this.hurtAnimationFrames=ge,this.deathAnimationFrames=fe,this.dustCloudAnimationFrames=ue,this.attackImageSrc=O,this.hurtImageSrc=V,this.deathImageSrc=Z,this.dustCloudImageSrc=_,this.attackImage=new Image,this.attackImage.src=O,this.hurtImage=new Image,this.hurtImage.src=V,this.deathImage=new Image,this.deathImage.src=Z,this.dustCloudImage=new Image,this.dustCloudImage.src=_,this.endurance=pe,this.projectileImageSrc=Ie,this.modulo=we}draw(e){switch(e.fillStyle="gold",e.font="10px Arial",e.fillText(`${this.health}`,this.x+18,this.y),this.state){case"idle":r%this.modulo===0&&(this.frameX<this.lastFrame?this.frameX+=1:this.frameX=this.firstFrame),e.drawImage(this.image,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y-10,this.width,this.height);break;case"attacking":r%this.modulo===0&&(this.frameX<this.attackAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),e.drawImage(this.attackImage,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y-10,this.width,this.height);break;case"hurt":r%this.modulo===0&&(this.frameX<this.hurtAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),e.drawImage(this.hurtImage,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y-10,this.width,this.height);break;case"dead":r%this.modulo===0&&(this.frameX<this.deathAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),e.drawImage(this.deathImage,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y-10,this.width,this.height);break;case"dustcloud":r%this.modulo===0&&(this.frameX<this.dustCloudAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),e.drawImage(this.dustCloudImage,200*this.frameX,0,200,179,this.x,this.y-10,this.width,this.height);break}}heroMovement(){r%this.modulo===0&&(this.frameX<this.lastFrame?this.frameX+=1:this.frameX=this.firstFrame)}}class Bt extends E{constructor(s,h){super("./images/hero1attack.png",s,h,.2,100,0,13,128,128,"./images/hero1attack_2.png","./images/hero1hurt.png","./images/hero1dead.png","./images/mandrake-dust-cloud.png",3,2,2,4,20,"./images/archerarrow.png",10);t(this,"shootInterval");t(this,"lastShotTime");this.shootInterval=2300,this.lastShotTime=0}heroMovement(){const s=Date.now();s-this.lastShotTime>=this.shootInterval&&(this.shoot(),this.lastShotTime=s)}shoot(){const s=new at(this.x+this.width-30,this.y,2,this.projectileImageSrc,"arrow",64,35,0,0,48,48);I.push(s)}}class Rt extends E{constructor(s,h){super("./images/hero2attack.png",s,h,.2,100,0,4,128,128,"./images/hero2attack.png","./images/hero2hurt.png","./images/hero2dead.png","./images/mandrake-dust-cloud.png",6,3,3,4,20,"./images/hero2fireball.png",10);t(this,"shootInterval");t(this,"lastShotTime");this.shootInterval=800,this.lastShotTime=300}heroMovement(){const s=Date.now();s-this.lastShotTime>=this.shootInterval&&(this.shoot(),this.lastShotTime=s)}shoot(){const s=new at(this.x+this.width-30,this.y,2,this.projectileImageSrc,"fireball",60,80,0,32,128,128);I.push(s)}}class jt extends E{constructor(e,s){super("./images/hero3run.png",e,s,.8,100,0,7,128,128,"./images/hero3attack.png","./images/hero3hurt.png","./images/hero3dead.png","./images/mandrake-dust-cloud.png",3,2,2,4,20,"projectileImageSrc",8)}heroMovement(){this.x=this.x+this.speed,r%8===0&&(this.frameX<this.lastFrame?this.frameX+=1:this.frameX=this.firstFrame)}}class Dt extends E{constructor(e,s){super("./images/hero4run.png",e,s,.8,100,0,5,96.4,98,"./images/hero4attack.png","./images/hero4hurt.png","./images/hero4dead.png","./images/mandrake-dust-cloud.png",3,2,3,4,5,"projectileImageSrc",15)}heroMovement(){this.x=this.x+this.speed,r%5===0&&(this.frameX<this.lastFrame?this.frameX+=1:this.frameX=this.firstFrame)}}class Pt extends E{constructor(e,s){super("./images/hero5run.png",e,s,.8,100,0,5,96.4,98,"./images/hero5attack.png","./images/hero5hurt.png","./images/hero5dead.png","./images/mandrake-dust-cloud.png",2,0,3,4,10,"projectileImageSrc",5)}heroMovement(){this.x=this.x+this.speed,r%5===0&&(this.frameX<this.lastFrame?this.frameX+=1:this.frameX=this.firstFrame)}}class Gt extends E{constructor(e,s){super("./images/hero6run.png",e,s,.8,100,0,7,128,128,"./images/hero6attack.png","./images/hero6hurt.png","./images/hero6dead.png","./images/mandrake-dust-cloud.png",3,2,2,4,5,"projectileImageSrc",5)}heroMovement(){this.x=this.x+this.speed,r%8===0&&(this.frameX<this.lastFrame?this.frameX+=1:this.frameX=this.firstFrame)}}class Ot extends E{constructor(s,h){super("./images/hero7attack.png",s,h,.8,100,0,3,130,130,"./images/hero7attack.png","./images/hero7dead.png","./images/hero1dead.png","./images/mandrake-dust-cloud.png",3,1,5,4,10,"./images/jinifireball.png",13);t(this,"shootInterval");t(this,"lastShotTime");this.shootInterval=700,this.lastShotTime=500}heroMovement(){const s=Date.now();s-this.lastShotTime>=this.shootInterval&&(this.shoot(),this.lastShotTime=s)}shoot(){const s=new at(this.x+this.width-30,this.y,2,this.projectileImageSrc,"fireball",60,60,0,9,642,642);I.push(s)}}class Vt extends E{constructor(s,h){super("./images/hero8attack.png",s,h,.8,100,0,6,128,128,"./images/hero8attack.png","./images/hero8hurt.png","./images/hero8dead.png","./images/mandrake-dust-cloud.png",6,3,8,4,20,"./images/hero8fireball.png",15);t(this,"shootInterval");t(this,"lastShotTime");this.shootInterval=1700,this.lastShotTime=700}heroMovement(){const s=Date.now();s-this.lastShotTime>=this.shootInterval&&(this.shoot(),this.lastShotTime=s)}shoot(){const s=new at(this.x+this.width-30,this.y,2,this.projectileImageSrc,"fireball",60,60,0,12,128,128);I.push(s)}}const w=document.getElementById("canvas1"),p=w.getContext("2d"),U=new Audio;U.src="./sound/resouce-increase.mp3";const Ft=[],v=[];let o=null;function $(i,e,s,h,a,m,l,c,R,j,O,V){const Z=new Image;Z.src=i;const _={x:e,y:s,width:64,height:64,imageSrc:i,frameX:0,frameY:0,eachWidth:m,eachHeight:l,firstFrame:h,lastFrame:a,image:Z,heroClass:c,cost:R,name:j,imageX:O,imageY:V};return Ft.push(_),_}$("./images/card1.png",64*4,0,0,21,128,128,Bt,100,"Archer",64*4,0);$("./images/card2.png",64*5,0,0,11,128,128,Rt,100,"Wizard",64*5,0);$("./images/card3.png",64*6,0,0,19,128,128,jt,100,"Swordsman",64*6,0);function be(){p.clearRect(0,0,w.width,w.height),Ft.forEach(i=>{p.strokeStyle="black",p.strokeRect(i.x,i.y,i.width,i.height),p.fillStyle="purple",p.fillRect(i.x,i.y,i.width,i.height),r%7===0&&(i.frameX<i.lastFrame?i.frameX+=1:i.frameX=i.firstFrame),p.fillStyle="gold",p.font="10px Arial",p.fillText(`${i.name}`,i.x+11,i.y+10),p.fillText(`Cost:${i.cost}`,i.x+11,i.y+20),p.drawImage(i.image,i.eachWidth*i.frameX,0,i.eachWidth,i.eachHeight,i.imageX,i.imageY,i.width,i.height)})}const ut=new Set;function mt(i,e){const s=`${i},${e}`;return ut.has(s)}w.addEventListener("click",i=>{const e=w.getBoundingClientRect();let s=i.clientX-e.left,h=i.clientY-e.top;if(s=s-s%64,h=h-h%64,!o||o&&h==0)Ft.forEach(a=>{s>=a.x&&s<=a.x+a.width&&h>=a.y&&h<=a.y+a.height&&(o=a)});else{if(h>=64&&h<=564&&s>=128)if(o.cost>K)X.push(new et("Not Enough Resources",w.width/2-200,w.height/2+50,50,1,"white"));else if(o.heroClass===jt||o.heroClass===Dt||o.heroClass===Pt||o.heroClass===Gt){const a=new o.heroClass(s,h);v.push(a),K-=o.cost}else if(!mt(s,h)&&o.heroClass==Bt||!mt(s,h)&&o.heroClass==Rt||!mt(s,h)&&o.heroClass==Ot||!mt(s,h)&&o.heroClass==Vt){const a=new o.heroClass(s,h);v.push(a);const m=`${s},${h}`;ut.add(m),K-=o.cost}else X.push(new et("Position Is Occupied",w.width/2-200,w.height/2+50,50,1,"white"));else X.push(new et("Invalid Position",w.width/2-200,w.height/2+50,50,1,"white"));o=null}});function Ye(){for(var i=0;i<=v.length-1;i++)v[i].heroMovement(),v[i].draw(p);Lt();for(let e=I.length-1;e>=0;e--)I[e]&&I[e].update(I[e]),I[e]&&I[e].draw(p)}setTimeout(()=>{U.play(),$("./images/card4.png",64*7,0,0,9,96.4,98,Dt,150,"Kings Guard",64*7,0)},0);setTimeout(()=>{U.play(),$("./images/card5.png",64*8,0,0,11,96.4,98,Pt,150,"Viking Hero",64*8,0)},0);setTimeout(()=>{U.play(),$("./images/card6.png",64*9,0,0,11,128.2,130,Gt,200,"Fighter",64*9,0)},0);setTimeout(()=>{U.play(),$("./images/card7.png",64*10,0,0,6,130,130,Ot,200,"Jinn",64*10,10)},0);setTimeout(()=>{U.play(),$("./images/card8.png",64*11,0,0,14,130,130,Vt,200,"Wizard Girl",64*11,10)},0);let K=400;function Ee(){K=400}function zt(i){K+=i}let S=null,F=null;w.addEventListener("mousemove",i=>{const e=w.getBoundingClientRect();S=i.clientX-e.left,F=i.clientY-e.top,Lt()});function Lt(){S&&(S=S-S%64),F&&(F=F-F%64),o&&S!==null&&F!==null&&F>=64&&F<576&&S>=128&&(r%8===0&&(o.frameX<o.lastFrame?o.frameX+=1:o.frameX=o.firstFrame),p.strokeStyle="gold",p.strokeRect(S,F,64,64),p.drawImage(o.image,o.eachWidth*o.frameX,0,o.eachWidth,o.eachHeight,S,F-10,o.width,o.height))}const Nt=document.getElementById("canvas1"),$e=Nt.getContext("2d");var Kt=new Image;Kt.src="./images/projectilefortower.png";class Me{constructor(e,s,h,a,m=0){t(this,"x");t(this,"y");t(this,"targetX");t(this,"targetY");t(this,"startX");t(this,"startY");t(this,"peakHeight");t(this,"speed");t(this,"progress");t(this,"width");t(this,"height");this.x=e,this.y=s,this.startX=e,this.startY=s,this.targetX=h,this.targetY=a,this.peakHeight=m,this.speed=(h>384,.8),this.progress=0,this.width=25,this.height=25}update(){this.progress+=this.speed;const e=Math.hypot(this.targetX-this.startX,this.targetY-this.startY),s=this.progress/e;this.x=this.startX+(this.targetX-this.startX)*s,this.y=this.startY+(this.targetY-this.startY)*s,s>=1&&(this.progress=e+Nt.width)}draw(){$e.drawImage(Kt,this.x,this.y,this.width,this.height)}}const Be=document.getElementById("canvas1"),z=Be.getContext("2d");let st=[],St=null;const Re="#00FF00",je="#FF0000",y=class y{constructor(e,s,h,a,m,l,c){t(this,"height");t(this,"width");t(this,"x");t(this,"y");t(this,"firstFrame");t(this,"lastFrame");t(this,"frameX");t(this,"tower");t(this,"eachWidth");t(this,"eachHeight");t(this,"lastShootTime");t(this,"shootInterval");t(this,"defaultShootInterval");t(this,"collisionShootInterval");t(this,"isColliding");t(this,"health");t(this,"maxHealth");t(this,"dustCloudSprite");t(this,"dustCloudFrames");t(this,"dustCloudFrameIndex");t(this,"dustCloudFrameWidth");this.height=e,this.width=s,this.x=h,this.y=a,this.firstFrame=m,this.lastFrame=l,this.frameX=c,this.tower=new Image,this.tower.src="./images/tower.png",this.eachWidth=128,this.eachHeight=144,this.lastShootTime=0,this.defaultShootInterval=5e3,this.collisionShootInterval=100,this.shootInterval=this.defaultShootInterval,this.isColliding=!1,this.maxHealth=500,this.health=this.maxHealth,this.dustCloudSprite=new Image,this.dustCloudSprite.src="./images/mandrake-dust-cloud.png",this.dustCloudFrames=4,this.dustCloudFrameIndex=0,this.dustCloudFrameWidth=200}draw(){r%6===0&&(this.frameX<this.lastFrame?this.frameX+=1:this.frameX=this.firstFrame),z.drawImage(this.tower,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y,this.width,this.height),this.drawHealthBar(),this.launchProjectile(),st.forEach(e=>{e.update(),e.draw()})}launchProjectile(){const e=Date.now();let s=this.findNearestEnemy();if(s&&e-this.lastShootTime>this.shootInterval&&H.indexOf(this)===y.shooterIndex){const a=new Me(this.x+60,this.y,s.x,s.y,100);st.push(a),this.lastShootTime=e}console.log(`Tower at (${this.x}, ${this.y}) shoot interval: ${this.shootInterval}`)}static updateShooter(){const e=Date.now();e-y.lastShooterChangeTime>y.shooterChangeInterval&&(y.shooterIndex=(y.shooterIndex+1)%H.length,y.lastShooterChangeTime=e,console.log(`Shooter changed to tower index: ${y.shooterIndex}`))}findNearestEnemy(){let e=1/0;const s=Math.random()<.5?this.y:this.y+64;return u.forEach(h=>{if(h.y>=s&&h.y<=s+64){const a=Math.hypot(h.x-this.x,h.y-this.y);a<e&&a<=64*10&&(e=a,St=h)}}),St}drawHealthBar(){const e=this.width,s=8,h=this.x,a=this.y-s+4;z.fillStyle=je,z.fillRect(h,a,e,s);const m=this.health/this.maxHealth;z.fillStyle=Re,z.fillRect(h,a,e*m,s),this.health<=0&&(r%20===0&&(this.frameX<4?this.frameX+=1:this.frameX=this.firstFrame),z.drawImage(this.dustCloudSprite,200*this.frameX,0,200,179,this.x,this.y,this.width+20,this.height),setTimeout(()=>{k(H,this),console.log("Hello")},1e3))}checkCollisionWithEnemies(){this.isColliding=!1;for(let e of u)if(this.x<e.x+e.width&&this.x+this.width>e.x&&this.y<e.y+e.height&&this.y+this.height>e.y){e.speed=0,e.x=e.x+2,e.state="attacking",this.isColliding=!0,this.health-=10,this.shootInterval=this.collisionShootInterval;break}this.isColliding||(this.shootInterval=this.defaultShootInterval),console.log(`Tower at (${this.x}, ${this.y}) is colliding: ${this.isColliding}, health: ${this.health}`)}};t(y,"shooterIndex",0),t(y,"shooterChangeInterval",3e3),t(y,"lastShooterChangeTime",Date.now());let A=y;const H=[new A(128,128,0,64,0,11,0),new A(128,128,0,192,0,11,0),new A(128,128,0,320,0,11,0),new A(128,128,0,448,0,11,0)];function De(){A.updateShooter(),H.forEach(i=>{i.draw(),i.checkCollisionWithEnemies()})}const Xt=document.getElementById("canvas1"),It=Xt.getContext("2d");function Pe(){It.fillStyle="gold",It.font="20px Arial",It.fillText("Coins: "+K,0,50)}function Ge(){for(let i of v)for(let e of u)i.x<e.x+e.width&&i.x+i.width>e.x&&i.y<e.y+e.height&&i.y+i.height>e.y&&(e.isCollidingWithHero=!0,e.isCollidingWithVillain=!1,(i.speed>0&&i.x<e.x||i.speed<0&&i.x>e.x)&&(i.speed=0,e.speed=0,i.state="attacking",e.state="attacking",Oe(i,e)))}function Oe(i,e){let s=!0;const h=setInterval(()=>{i.health<=0||e.health<=0?(clearInterval(h),i.health<=0?(i.state="dead",setTimeout(()=>{i.state="dustcloud"},400),setTimeout(()=>{e.speed=e.moment,k(v,i);const m=`${i.x},${i.y}`;ut.delete(m)},1500)):i.state="idle",e.health<=0?(e.state="dead",setTimeout(()=>{e.state="dustcloud",i.state="idle"},400),setTimeout(()=>{i.speed=i.moment,k(u,e)},800)):e.state="idle"):(s?(i.state="attacking",e.state="hurt"):(i.state="hurt",e.state="attacking"),s=!s)},700),a=setInterval(()=>{i.health<=0||e.health<=0?clearInterval(a):(i.health-=i.endurance,e.health-=e.endurance)},500)}function k(i,e){console.log(e);const s=i.indexOf(e);if(s>-1&&(i.splice(s,1),e.type==="enemy")){const h=e.pointsAwarded||0;X.push(new et(`SWEET JOB!!! Resource + ${h}`,Xt.width/2-280,Xt.height/2+50,50,1,"white")),zt(h)}}function Ve(){for(let i of u)for(let e of I)e.x<i.x+i.width&&e.x+e.width>i.x&&e.y<i.y+i.height&&e.y+e.height>i.y&&(k(I,e),i.health-=i.endurance,i.health<=0?(i.state="dead",i.speed=0,setTimeout(()=>{i.state="dustcloud",setTimeout(()=>{k(u,i)},500)},500)):(i.state="hurt",i.speed=0,setTimeout(()=>{i.state="idle",i.speed=i.moment},500)))}function ze(){for(let i of H)for(let e of u)i.x<e.x+e.width&&i.x+i.width>e.x&&i.y<e.y+e.height&&i.y+i.height>e.y&&(e.speed=0,e.x=e.x,e.state="attacking")}function Le(){for(let i of st)for(let e of u)i.x<e.x+e.width&&i.x+i.width>e.x&&i.y<e.y+e.height&&i.y+i.height>e.y&&(k(st,i),e.health-=e.endurance,e.health<=0?(e.state="dead",e.speed=0,setTimeout(()=>{e.state="dustcloud",setTimeout(()=>{k(u,e)},500)},500)):(e.state="hurt",e.speed=0,setTimeout(()=>{e.state="idle",e.speed=e.moment},500)))}const G=document.getElementById("canvas1"),qt=G.getContext("2d"),Jt=new Image;Jt.src="./images/mandrake.png";const Ne=new Image;Ne.src="./images/mandrake-dust-cloud.png";const ot=64,L=64,Ke=110;let Ct=[50,60,70,80],D=[];class qe{constructor(e,s,h){t(this,"x");t(this,"y");t(this,"size");t(this,"gamePoint");t(this,"creationTime");t(this,"frameX");t(this,"frameY");t(this,"spriteWidth");t(this,"spriteHeight");t(this,"minFrame");t(this,"maxFrame");this.x=e,this.y=s,this.size=h,this.gamePoint=Ct[Math.floor(Math.random()*Ct.length)],this.creationTime=Date.now(),this.frameX=0,this.frameY=0,this.spriteWidth=256,this.spriteHeight=256,this.minFrame=0,this.maxFrame=355}draw(e){r%1===0&&(this.frameX++,this.frameX>=18&&(this.frameX=0,this.frameY++,this.frameY>=18&&(this.frameY=0))),qt.drawImage(Jt,this.frameX*this.spriteWidth,this.frameY*this.spriteHeight,this.spriteWidth,this.spriteHeight,this.x+(ot-this.size)/2,this.y+(L-this.size)/2,L*2,L*2),e.fillStyle="gold",e.font="10px Arial",e.fillText(this.gamePoint.toString(),this.x+25,this.y)}isExpired(){return Date.now()-this.creationTime>5500}isHovered(e,s,h){const a=e>=this.x&&e<=this.x+ot*1.3&&s>=this.y&&s<=this.y+L*1.3;return a&&(X.push(new et(`YUMMY!!!! MANDRAKE Resource + ${h.gamePoint}`,G.width/2-380,G.height/2+50,50,1,"white")),zt(h.gamePoint)),a}}function Je(){const i=G.width/ot,e=G.height/L,s=Math.floor(Math.random()*(i-2))+2,h=Math.floor(Math.random()*(e-1))+1,a=s*ot,m=h*L;return{x:a,y:m}}function Ue(){const{x:i,y:e}=Je(),s=new qe(i,e,Ke);D.push(s)}function Qe(){D=D.filter(i=>!i.isExpired());for(let i of D)i.draw(qt)}G.addEventListener("mousemove",i=>{const e=G.getBoundingClientRect(),s=i.clientX-e.left,h=i.clientY-e.top;D=D.filter(a=>!a.isHovered(s,h,a))});const xt=document.getElementById("canvas1"),Ze=xt.getContext("2d");function _e(i,e){if(i.fillStyle="gold",i.font="50px MedievalSharp",q>=3){Ze.fillText("Game Over",xt.width/2-300,xt.height/2);return}i.fillText(` Seige Wave ${q} incoming get ready `,e.width/2-300,e.height/2)}const Q=[],Ut=new Image;Ut.src="./images/golemrun.png";Q.push(Ut);const Qt=new Image;Qt.src="./images/fireballrun.png";Q.push(Qt);const Zt=new Image;Zt.src="./images/monsterdogwalk.png";Q.push(Zt);const ti=document.getElementById("canvas1"),d=ti.getContext("2d");class ei extends Y{constructor(s,h){super(s,h,M,B);t(this,"type");t(this,"speed");t(this,"moment");t(this,"health");t(this,"pointsAwarded");t(this,"frameX");t(this,"frameY");t(this,"eachWidth");t(this,"eachHeight");t(this,"firstFrame");t(this,"lastFrame");t(this,"enemytype");t(this,"state");t(this,"attackAnimationFrames");t(this,"hurtAnimationFrames");t(this,"deathAnimationFrames");t(this,"dustCloudAnimationFrames");t(this,"attackImageSrc");t(this,"hurtImageSrc");t(this,"deathImageSrc");t(this,"dustCloudImageSrc");t(this,"attackImage");t(this,"hurtImage");t(this,"deathImage");t(this,"dustCloudImage");t(this,"endurance");t(this,"isCollidingWithVilan");t(this,"isCollidingWithHero");this.speed=.4,this.type="enemy",this.moment=this.speed,this.health=120,this.pointsAwarded=this.health,this.frameX=0,this.frameY=0,this.eachWidth=900,this.eachHeight=900,this.firstFrame=0,this.lastFrame=11,this.enemytype=Q[0],this.attackAnimationFrames=3,this.hurtAnimationFrames=1,this.deathAnimationFrames=4,this.dustCloudAnimationFrames=4,this.attackImageSrc="./images/golemattack.png",this.hurtImageSrc="./images/golemhurt.png",this.deathImageSrc="./images/golemdead.png",this.dustCloudImageSrc="./images/mandrake-dust-cloud.png",this.attackImage=new Image,this.attackImage.src=this.attackImageSrc,this.hurtImage=new Image,this.hurtImage.src=this.hurtImageSrc,this.deathImage=new Image,this.deathImage.src=this.deathImageSrc,this.dustCloudImage=new Image,this.dustCloudImage.src=this.dustCloudImageSrc,this.state="idle",this.endurance=20,this.isCollidingWithVilan=!1,this.isCollidingWithHero=!1}enemyMovement(){this.x=this.x-this.speed,r%5===0&&(this.frameX<this.lastFrame?this.frameX+=1:this.frameX=this.firstFrame)}draw(){switch(d.fillStyle="gold",d.font="10px Arial",d.fillText(this.health.toString(),this.x+25,this.y+10),this.state){case"idle":r%17===0&&(this.frameX<this.lastFrame?this.frameX+=1:this.frameX=this.firstFrame),d.drawImage(this.enemytype,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y,this.width,this.height);break;case"attacking":r%10===0&&(this.frameX<this.attackAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),d.drawImage(this.attackImage,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y,this.width,this.height);break;case"hurt":r%8===0&&(this.frameX<this.hurtAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),d.drawImage(this.hurtImage,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y,this.width,this.height);break;case"dead":r%10===0&&(this.frameX<this.deathAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),d.drawImage(this.deathImage,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y,this.width,this.height);break;case"dustcloud":r%8===0&&(this.frameX<this.dustCloudAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),d.drawImage(this.dustCloudImage,200*this.frameX,0,200,179,this.x,this.y,this.width,this.height);break}}}class ii extends Y{constructor(s,h){super(s,h,M,B);t(this,"type");t(this,"speed");t(this,"moment");t(this,"health");t(this,"pointsAwarded");t(this,"frameX");t(this,"frameY");t(this,"eachWidth");t(this,"eachHeight");t(this,"firstFrame");t(this,"lastFrame");t(this,"enemytype");t(this,"state");t(this,"attackAnimationFrames");t(this,"hurtAnimationFrames");t(this,"deathAnimationFrames");t(this,"dustCloudAnimationFrames");t(this,"attackImageSrc");t(this,"hurtImageSrc");t(this,"deathImageSrc");t(this,"dustCloudImageSrc");t(this,"attackImage");t(this,"hurtImage");t(this,"deathImage");t(this,"dustCloudImage");t(this,"endurance");t(this,"isCollidingWithVilan");t(this,"isCollidingWithHero");this.speed=.4,this.moment=this.speed,this.health=120,this.type="enemy",this.pointsAwarded=this.health,this.frameX=0,this.frameY=0,this.eachWidth=128,this.eachHeight=128,this.firstFrame=0,this.lastFrame=20,this.enemytype=Q[1],this.attackAnimationFrames=23,this.hurtAnimationFrames=2,this.deathAnimationFrames=4,this.dustCloudAnimationFrames=4,this.attackImageSrc="./images/fireballattack.png",this.hurtImageSrc="./images/fireballhurt.png",this.deathImageSrc="./images/fireballdead.png",this.dustCloudImageSrc="./images/mandrake-dust-cloud.png",this.attackImage=new Image,this.attackImage.src=this.attackImageSrc,this.hurtImage=new Image,this.hurtImage.src=this.hurtImageSrc,this.deathImage=new Image,this.deathImage.src=this.deathImageSrc,this.dustCloudImage=new Image,this.dustCloudImage.src=this.dustCloudImageSrc,this.state="idle",this.endurance=20,this.isCollidingWithVilan=!1,this.isCollidingWithHero=!1}enemyMovement(){this.x=this.x-this.speed,r%5===0&&(this.frameX<this.lastFrame?this.frameX+=1:this.frameX=this.firstFrame)}draw(){switch(d.fillStyle="gold",d.font="10px Arial",d.fillText(this.health.toString(),this.x+35,this.y+10),this.state){case"idle":r%17===0&&(this.frameX<this.lastFrame?this.frameX+=1:this.frameX=this.firstFrame),d.drawImage(this.enemytype,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y-10,this.width+30,this.height+30);break;case"attacking":r%10===0&&(this.frameX<this.attackAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),d.drawImage(this.attackImage,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y,this.width,this.height);break;case"hurt":r%8===0&&(this.frameX<this.hurtAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),d.drawImage(this.hurtImage,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y,this.width,this.height);break;case"dead":r%10===0&&(this.frameX<this.deathAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),d.drawImage(this.deathImage,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y,this.width,this.height);break;case"dustcloud":r%8===0&&(this.frameX<this.dustCloudAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),d.drawImage(this.dustCloudImage,200*this.frameX,0,200,179,this.x,this.y,this.width,this.height);break}}}class si extends Y{constructor(s,h){super(s,h,M,B);t(this,"speed");t(this,"type");t(this,"moment");t(this,"health");t(this,"pointsAwarded");t(this,"frameX");t(this,"frameY");t(this,"eachWidth");t(this,"eachHeight");t(this,"firstFrame");t(this,"lastFrame");t(this,"enemytype");t(this,"state");t(this,"attackAnimationFrames");t(this,"hurtAnimationFrames");t(this,"deathAnimationFrames");t(this,"dustCloudAnimationFrames");t(this,"attackImageSrc");t(this,"hurtImageSrc");t(this,"deathImageSrc");t(this,"dustCloudImageSrc");t(this,"attackImage");t(this,"hurtImage");t(this,"deathImage");t(this,"dustCloudImage");t(this,"endurance");t(this,"isCollidingWithVilan");t(this,"isCollidingWithHero");this.speed=.4,this.moment=this.speed,this.health=120,this.type="enemy",this.pointsAwarded=this.health,this.frameX=0,this.frameY=0,this.eachWidth=96,this.eachHeight=96,this.firstFrame=0,this.lastFrame=5,this.enemytype=Q[2],this.attackAnimationFrames=11,this.hurtAnimationFrames=3,this.deathAnimationFrames=5,this.dustCloudAnimationFrames=4,this.attackImageSrc="./images/monsterdogattack.png",this.hurtImageSrc="./images/monterdoghurt.png",this.deathImageSrc="./images/monsterdogdeath.png",this.dustCloudImageSrc="./images/mandrake-dust-cloud.png",this.attackImage=new Image,this.attackImage.src=this.attackImageSrc,this.hurtImage=new Image,this.hurtImage.src=this.hurtImageSrc,this.deathImage=new Image,this.deathImage.src=this.deathImageSrc,this.dustCloudImage=new Image,this.dustCloudImage.src=this.dustCloudImageSrc,this.state="idle",this.endurance=20,this.isCollidingWithVilan=!1,this.isCollidingWithHero=!1}enemyMovement(){this.x=this.x-this.speed,r%5===0&&(this.frameX<this.lastFrame?this.frameX+=1:this.frameX=this.firstFrame)}draw(){switch(d.fillStyle="gold",d.font="10px Arial",d.fillText(this.health.toString(),this.x+35,this.y+10),this.state){case"idle":r%17===0&&(this.frameX<this.lastFrame?this.frameX+=1:this.frameX=this.firstFrame),d.drawImage(this.enemytype,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y-30,this.width+10,this.height+20);break;case"attacking":r%10===0&&(this.frameX<this.attackAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),d.drawImage(this.attackImage,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y-30,this.width+10,this.height+20);break;case"hurt":r%8===0&&(this.frameX<this.hurtAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),d.drawImage(this.hurtImage,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y-30,this.width+10,this.height+20);break;case"dead":r%10===0&&(this.frameX<this.deathAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),d.drawImage(this.deathImage,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y-30,this.width+10,this.height+20);break;case"dustcloud":r%8===0&&(this.frameX<this.dustCloudAnimationFrames?this.frameX+=1:this.frameX=this.firstFrame),d.drawImage(this.dustCloudImage,200*this.frameX,0,200,179,this.x,this.y,this.width,this.height);break}}}const hi=[ei,ii,si],_t=[],te=new Image;te.src="./images/enemy2.png";_t.push(te);const ai=document.getElementById("canvas1"),nt=ai.getContext("2d");class ri extends Y{constructor(s,h){super(s,h,M,B);t(this,"speed");t(this,"moment");t(this,"health");t(this,"pointsAwarded");t(this,"frameX");t(this,"frameY");t(this,"eachWidth");t(this,"eachHeight");t(this,"firstFrame");t(this,"lastFrame");t(this,"enemytype");t(this,"attackInterval");this.speed=.7,this.moment=this.speed,this.health=120,this.pointsAwarded=this.health,this.frameX=0,this.frameY=0,this.eachWidth=900,this.eachHeight=900,this.firstFrame=0,this.lastFrame=11,this.enemytype=_t[0],this.attackInterval=20}enemyMovement(){this.x=this.x-this.speed,r%10===0&&(this.frameX<this.lastFrame?this.frameX+=1:this.frameX=this.firstFrame)}draw(){nt.fillStyle="gold",nt.font="10px Arial",nt.fillText(this.health.toString(),this.x+25,this.y+10),nt.drawImage(this.enemytype,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y,this.width,this.height)}}const mi=[ri],W=document.getElementById("canvas1"),x=W.getContext("2d"),lt=W.width/2-100,dt=W.height/2-25,ee=200,ie=50;function ni(){x.fillStyle="#333",x.fillRect(0,0,W.width,W.height),x.fillStyle="white",x.font="60px Georgia",x.fillText("Game Over",W.width/2-150,150),x.fillStyle="#4CAF50",x.fillRect(lt,dt+100,ee,ie),x.fillStyle="white",x.font="30px Arial",x.fillText("Restart",lt+50,dt+135),W.addEventListener("click",se)}function se(i){const e=W.getBoundingClientRect(),s=i.clientX-e.left,h=i.clientY-e.top;s>=lt&&s<lt+ee&&h>=dt+100&&h<dt+100+ie&&(Ii(),pt(),oi())}function oi(){W.removeEventListener("click",se)}const li=document.getElementById("canvas1"),di=li.getContext("2d");let rt=[];class he{constructor(e,s,h,a,m,l,c,R,j){t(this,"height");t(this,"width");t(this,"x");t(this,"y");t(this,"image");t(this,"numXFrames");t(this,"numYFrames");t(this,"spriteWidth");t(this,"spriteHeight");t(this,"cardFrameX");t(this,"cardFrameY");t(this,"lastFrameTime");this.height=e,this.width=s,this.x=h,this.y=a,this.image=new Image,this.image.src=m,this.spriteWidth=R,this.spriteHeight=j,this.numXFrames=l,this.numYFrames=c,this.lastFrameTime=Date.now(),this.cardFrameX=10,this.cardFrameY=0}draw(){r%5===0&&(this.cardFrameX++,this.cardFrameX>=this.numXFrames&&(this.cardFrameX=0,this.cardFrameY++,this.cardFrameY>=this.numYFrames&&(this.cardFrameY=0))),di.drawImage(this.image,this.cardFrameX*this.spriteWidth,this.cardFrameY*this.spriteHeight,this.spriteWidth,this.spriteHeight,this.x,this.y,this.width,this.height)}}class ci extends he{constructor(e,s){super(100,130,e,s,"./images/tree1.png",11,0,249,341)}}class kt extends he{constructor(e,s){super(100,130,e,s,"./images/tree2.png",28,0,519,549)}}function gi(){rt.forEach(i=>{console.log("Hey"),i.draw()})}rt.push(new ci(770,0));rt.push(new kt(1200,79));rt.push(new kt(600,200));rt.push(new kt(300,390));const f=document.getElementById("canvas1"),g=f.getContext("2d"),fi=[{x:64,y:0},{x:192,y:0},{x:320,y:0},{x:448,y:0}];f.height=576;f.width=1344;let r=0;const M=64,B=64,ui=new Image;ui.src="./images/hovertile.png";let q=1,J=[];const T=64*4,Wt=20,wt=f.width-T-20,yt=20;let ht=T;const At=2,pi="#333";let ae="",re=[];J.push(...Mt);const N=[];function me(){for(let i=0;i<N.length;i++)N[i].draw()}const ct=f.width/2-100,gt=f.height/2-25,ne=200,oe=50;let P=!1,ft=0,vt=100,Ht=1;function le(){g.fillStyle="#4CAF50",g.fillRect(ct,gt+200,ne,oe),g.fillStyle="white",g.font="30px Arial",g.fillText("Start Game",ct+20,gt+235)}function de(){g.fillStyle="#333",g.fillRect(0,0,f.width,f.height),g.fillStyle="#FFD700",g.font="60px Georgia",g.fillText("Siege Guardians",f.width/2-150,100),g.font="24px Arial",g.fillStyle="white";const i=["Instructions:","1. Select a hero, hover over the game board and click on the gameboard drop it.","2. Enemies come in waves.","3. After each wave, each hero's damage-taking capability increases.","4. Mandrake appears at intervals across the game board. Hover over it to collect coins.","5. If all the 4 towers are destroyed, the game is over.","6. All the hero's have different abilities and different damgae taking capabilities.","7. You will be awarded with a new hero every 20 seconds.","8. Watch out for the towers health because if all 4 are destroyed its GAME OVER."];for(let e=0;e<i.length;e++)g.fillText(i[e],f.width/2-300,150+e*30)}f.addEventListener("click",function(i){console.log("Hello");const e=f.getBoundingClientRect(),s=i.clientX-e.left,h=i.clientY-e.top;s>=ct&&s<ct+ne&&h>=gt+200&&h<gt+200+oe&&(P||(P=!0,ft=Date.now(),pt()))});f.addEventListener("mousemove",function(i){if(!P)return;const e=f.getBoundingClientRect(),s=i.clientX-e.left,h=i.clientY-e.top;let a=null,m=null;for(let l=0;l<N.length;l++){const c=N[l];if(s>=c.x&&s<c.x+c.width&&h>=c.y&&h<c.y+c.height){a=c.y,m=c.x;break}}for(let l=0;l<N.length;l++){const c=N[l];c.x===m||c.y===a?c.isHovered=!0:c.isHovered=!1}me()});function Ii(){it=5e3,st.length=0,D.length=0,I.length=0,ut.clear(),v.length=0,H.length=0,fi.forEach(i=>{H.push(new A(128,128,0,i.x,i.y,11,0))}),console.log(P),r=0,ht=T,C.length=0,q=1,console.log(P),u.length=0,r=0,ht=T,q=1,J=[...Mt],re=[],ft=Date.now(),P=!0,Ee()}function pt(){if(g.clearRect(0,0,f.width,f.height),!P){de(),le();return}if(H.length==0){ni();return}be(),me(),Pe(),Ye(),Te(),ve(),xi(),r++;let i=(Date.now()-ft)/1e3;if(ht=T-i/vt*T,ae="Next wave in",i<Ht&&_e(g,f),Qe(),Ge(),Ve(),ze(),Le(),i>=vt+Ht)switch(ht=T,ft=Date.now(),q++,q){case 2:J.push(...hi);break;case 3:J.push(...mi);break}De(),wi(),gi(),requestAnimationFrame(pt)}function wi(){g.fillStyle=pi,g.fillRect(wt,yt,T,Wt),g.fillStyle="#00CED1",g.fillRect(wt+2,yt+At,ht-2,Wt-2*At),g.fillStyle="white",g.font="30px Georgia",g.fillText(ae,wt-180,yt+20)}const yi=[64,128,192,256,320,384,448,512,576],Xi=8;let it=5e3,Tt=-it;function xi(){const i=Date.now();if(i-Tt>it){Tt=i;const e=Math.floor(Math.random()*Xi),s=yi[e],h=Math.floor(Math.random()*J.length),a=new J[h](f.width,s);u.push(a),re.push(a),it>1500&&(it-=150)}}de();le();setInterval(Ue,5e3);var Fi=new Audio;Fi.src="./sound/maintheme.mp3";Fe();pt();
