var q=Object.defineProperty;var _=(e,i,s)=>i in e?q(e,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[i]=s;var t=(e,i,s)=>_(e,typeof i!="symbol"?i+"":i,s);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))h(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&h(l)}).observe(document,{childList:!0,subtree:!0});function s(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function h(a){if(a.ep)return;a.ep=!0;const n=s(a);fetch(a.href,n)}})();const E=document.getElementById("gameScreen"),C=document.getElementById("homeScreen");function j(){C.style.display="none",E.style.display="flex"}function K(){C.style.display="flex",E.style.display="none"}const u=document.getElementById("canvas1"),w=u.getContext("2d");let X=[],F=300;class U{constructor(i,s,h,a,n){t(this,"x");t(this,"y");t(this,"width");t(this,"height");t(this,"isAttacking");t(this,"health");t(this,"weapon");t(this,"intervalOfAttack");t(this,"cost");this.x=i,this.y=s,this.width=d,this.height=c,this.isAttacking=!1,this.health=h,this.weapon=[],this.intervalOfAttack=a,this.cost=n}draw(){w.fillStyle="red",w.fillRect(this.x,this.y,this.width,this.height),w.fillStyle="gold",w.font="20px Arial",w.fillText(this.health.toString(),this.x+15,this.y+20)}}u.addEventListener("click",function(e){const i=u.getBoundingClientRect(),s=e.clientX-i.left,h=e.clientY-i.top,a=Math.floor(s/d)*d,n=Math.floor(h/c)*c;for(let o=0;o<=X.length-1;o++)if(X[o].x==a&&X[o].y==n)return;if(n===0||n>=u.height-c){w.clearRect(0,0,u.width,u.height);return}let l=100;l<=F&&(X.push(new U(a,n,100,20,100)),F=F-l)});function V(){for(let e=0;e<=X.length-1;e++)X[e].draw()}function J(e){F=F+e}const Q=document.getElementById("canvas1"),S=Q.getContext("2d");function Z(){S.fillStyle="gold",S.font="20px Arial",S.fillText("Coins: "+F,0,50)}const W=document.getElementById("canvas1"),T=W.getContext("2d"),k=new Image;k.src="./images/mandrake.png";const A=64,v=64,tt=110;let R=[50,60,70,80],I=[];class et{constructor(i,s,h){t(this,"x");t(this,"y");t(this,"size");t(this,"gamePoint");t(this,"creationTime");t(this,"frameX");t(this,"frameY");t(this,"spriteWidth");t(this,"spriteHeight");t(this,"minFrame");t(this,"maxFrame");this.x=i,this.y=s,this.size=h,this.gamePoint=R[Math.floor(Math.random()*R.length)],this.creationTime=Date.now(),this.frameX=0,this.frameY=0,this.spriteWidth=256,this.spriteHeight=256,this.minFrame=0,this.maxFrame=355}draw(i){p%3===0&&(this.frameX++,this.frameX>=18&&(this.frameX=0,this.frameY++,this.frameY>=18&&(this.frameY=0))),T.drawImage(k,this.frameX*this.spriteWidth,this.frameY*this.spriteHeight,this.spriteWidth,this.spriteHeight,this.x+(A-this.size)/2,this.y+(v-this.size)/2,v*2,v*2),i.fillStyle="gold",i.font="15px Arial",i.fillText(this.gamePoint.toString(),this.x+25,this.y)}isExpired(){return Date.now()-this.creationTime>8e3}isHovered(i,s,h){const a=i>=this.x&&i<=this.x+A*1.3&&s>=this.y&&s<=this.y+v*1.3;return a&&J(h.gamePoint),a}}function it(){const e=W.width/A,i=W.height/v,s=Math.floor(Math.random()*e),h=Math.floor(Math.random()*(i-3))+1,a=s*A,n=h*v;return{x:a,y:n}}function st(){const{x:e,y:i}=it(),s=new et(e,i,tt);I.push(s)}function ht(){I=I.filter(e=>!e.isExpired());for(let e of I)e.draw(T)}W.addEventListener("mousemove",e=>{const i=W.getBoundingClientRect(),s=e.clientX-i.left,h=e.clientY-i.top;I=I.filter(a=>!a.isHovered(s,h,a))});const x=document.getElementById("canvas1"),r=x.getContext("2d"),at=64,nt=7;let m=[];const B=new Image;B.src="./images/enemy1.png";m.push(B);const O=new Image;O.src="./images/enemy2.png";m.push(O);const $=new Image;$.src="./images/enemy3.png";m.push($);const b=new Image;b.src="./images/enemy4.png";m.push(b);const L=new Image;L.src="./images/enemy5.png";m.push(L);class M{constructor(i,s,h,a){t(this,"x");t(this,"y");t(this,"width");t(this,"height");this.x=i,this.y=s,this.width=h,this.height=a}draw(){}enemyMovement(){}}class P extends M{constructor(s,h){super(s,h,d-10,c-10);t(this,"speed");t(this,"health");t(this,"pointsAwarded");t(this,"frameX");t(this,"frameY");t(this,"eachWidth");t(this,"eachHeight");t(this,"firstFrame");t(this,"lastFrame");t(this,"enemytype");this.speed=.2,this.health=100,this.pointsAwarded=this.health,this.frameX=0,this.frameY=0,this.eachWidth=213,this.eachHeight=213,this.firstFrame=0,this.lastFrame=8,this.enemytype=m[0]}enemyMovement(){this.x=this.x-this.speed,p%10===0&&(this.frameX<this.lastFrame?this.frameX+=1:this.frameX=this.firstFrame)}draw(){console.log(this),r.fillStyle="gold",r.font="10px Arial",r.fillText(this.health.toString(),this.x+15,this.y),r.drawImage(this.enemytype,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y,this.width,this.height)}}class rt extends M{constructor(s,h){super(s,h,d-10,c-10);t(this,"speed");t(this,"health");t(this,"pointsAwarded");t(this,"frameX");t(this,"frameY");t(this,"eachWidth");t(this,"eachHeight");t(this,"firstFrame");t(this,"lastFrame");t(this,"enemytype");this.speed=.2,this.health=120,this.pointsAwarded=this.health,this.frameX=0,this.frameY=0,this.eachWidth=229,this.eachHeight=171,this.firstFrame=0,this.lastFrame=5,this.enemytype=m[1]}enemyMovement(){this.x=this.x-this.speed,p%10===0&&(this.frameX<this.lastFrame?this.frameX+=1:this.frameX=this.firstFrame)}draw(){console.log("draw"),r.fillStyle="gold",r.font="10px Arial",r.fillText(this.health.toString(),this.x+20,this.y),r.drawImage(this.enemytype,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y,this.width,this.height)}}class ot extends M{constructor(s,h){super(s,h,d,c-10);t(this,"speed");t(this,"health");t(this,"pointsAwarded");t(this,"frameX");t(this,"frameY");t(this,"eachWidth");t(this,"eachHeight");t(this,"firstFrame");t(this,"lastFrame");t(this,"enemytype");this.speed=.2,this.health=100,this.pointsAwarded=this.health,this.frameX=0,this.frameY=0,this.eachWidth=266,this.eachHeight=188,this.firstFrame=0,this.lastFrame=4,this.enemytype=m[2]}enemyMovement(){this.x=this.x-this.speed,p%10===0&&(this.frameX<this.lastFrame?this.frameX+=1:this.frameX=this.firstFrame)}draw(){console.log(this),r.fillStyle="gold",r.font="10px Arial",r.fillText(this.health.toString(),this.x+15,this.y),r.drawImage(this.enemytype,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y,this.width,this.height)}}class lt extends M{constructor(s,h){super(s,h,d,c-10);t(this,"speed");t(this,"health");t(this,"pointsAwarded");t(this,"frameX");t(this,"frameY");t(this,"eachWidth");t(this,"eachHeight");t(this,"firstFrame");t(this,"lastFrame");t(this,"enemytype");this.speed=.2,this.health=100,this.pointsAwarded=this.health,this.frameX=0,this.frameY=0,this.eachWidth=271,this.eachHeight=194,this.firstFrame=0,this.lastFrame=5,this.enemytype=m[3]}enemyMovement(){this.x=this.x-this.speed,p%10===0&&(this.frameX<this.lastFrame?this.frameX+=1:this.frameX=this.firstFrame)}draw(){console.log(this),r.fillStyle="gold",r.font="10px Arial",r.fillText(this.health.toString(),this.x+15,this.y),r.drawImage(this.enemytype,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y,this.width,this.height)}}class ct extends M{constructor(s,h){super(s,h,d-10,c-10);t(this,"speed");t(this,"health");t(this,"pointsAwarded");t(this,"frameX");t(this,"frameY");t(this,"eachWidth");t(this,"eachHeight");t(this,"firstFrame");t(this,"lastFrame");t(this,"enemytype");this.speed=.2,this.health=120,this.pointsAwarded=this.health,this.frameX=0,this.frameY=0,this.eachWidth=261,this.eachHeight=209,this.firstFrame=0,this.lastFrame=5,this.enemytype=m[4]}enemyMovement(){this.x=this.x-this.speed,p%10===0&&(this.frameX<this.lastFrame?this.frameX+=1:this.frameX=this.firstFrame)}draw(){console.log("draw"),r.fillStyle="gold",r.font="10px Arial",r.fillText(this.health.toString(),this.x+20,this.y),r.drawImage(this.enemytype,this.eachWidth*this.frameX,0,this.eachWidth,this.eachHeight,this.x,this.y,this.width,this.height)}}console.log(P);let g=[],G=5e3,H=[64];function dt(){setInterval(()=>{const e=mt(H.length),i=Math.floor(Math.random()*5);e.forEach(s=>{const h=H[s];switch(i){case 0:g.push(new P(x.width,h));break;case 1:g.push(new rt(x.width,h));break;case 2:g.push(new ot(x.width,h));break;case 3:g.push(new lt(x.width,h));break;case 4:g.push(new ct(x.width,h));break}}),ft()},G)}function mt(e){const i=Math.floor(Math.random()*e)+1,s=[];for(let h=0;h<i;h++){let a;do a=Math.floor(Math.random()*e);while(s.includes(a));s.push(a)}return s}function ft(){if(G-=300,H.length<nt){let e=at*(H.length+1);H.push(e)}}dt();function gt(){for(let e=0;e<g.length;e++)g[e].draw(),g[e].enemyMovement()}const f=document.getElementById("canvas1"),z=f.getContext("2d");f.height=576;f.width=1344;let p=0;const d=64,c=64,D=new Image;D.src="./images/hovertile.png";class yt{constructor(i,s){t(this,"x");t(this,"y");t(this,"width");t(this,"height");t(this,"isHovered");this.x=i,this.y=s,this.width=d,this.height=c,this.isHovered=!1}draw(){this.isHovered&&z.drawImage(D,this.x,this.y,this.width,this.height)}}const y=[];function pt(){for(let e=64;e<f.height-64;e+=c)for(let i=0;i<f.width;i+=d)y.push(new yt(i,e))}pt();console.log(y);function N(){for(let e=0;e<y.length;e++)y[e].draw()}f.addEventListener("mousemove",function(e){const i=f.getBoundingClientRect(),s=e.clientX-i.left,h=e.clientY-i.top;let a=null,n=null;for(let l=0;l<y.length;l++){const o=y[l];if(s>=o.x&&s<o.x+o.width&&h>=o.y&&h<o.y+o.height){a=o.y,n=o.x;break}}for(let l=0;l<y.length;l++){const o=y[l];o.x===n||o.y===a?o.isHovered=!0:o.isHovered=!1}N()});function Y(){z.clearRect(0,0,f.width,f.height),N(),V(),Z(),p++,gt(),ht(),requestAnimationFrame(Y)}Y();setInterval(st,5e3);const ut=document.getElementById("startButton");ut.addEventListener("click",()=>{j(),Y()});K();
