var I=Object.defineProperty;var S=(e,t,n)=>t in e?I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var s=(e,t,n)=>S(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const p=document.getElementById("gameScreen"),v=document.getElementById("homeScreen");function C(){v.style.display="none",p.style.display="flex"}function H(){v.style.display="flex",p.style.display="none"}const a=document.getElementById("canvas1"),u=a.getContext("2d");let y=[],m=500;class L{constructor(t,n,l,i,o){s(this,"x");s(this,"y");s(this,"width");s(this,"height");s(this,"isAttacking");s(this,"health");s(this,"weapon");s(this,"intervalOfAttack");s(this,"cost");this.x=t,this.y=n,this.width=g,this.height=f,this.isAttacking=!1,this.health=l,this.weapon=[],this.intervalOfAttack=i,this.cost=o}draw(){u.fillStyle="red",u.fillRect(this.x,this.y,this.width,this.height),u.fillStyle="gold",u.fillText(this.health.toString(),this.x+25,this.y)}}a.addEventListener("click",function(e){const t=a.getBoundingClientRect(),n=e.clientX-t.left,l=e.clientY-t.top,i=Math.floor(n/g)*g,o=Math.floor(l/f)*f;if(o===0||o>=a.height-f){u.clearRect(0,0,a.width,a.height);return}let r=100;r<=m&&(y.push(new L(i,o,100,20,100)),m=m-r)});function O(){for(let e=0;e<=y.length-1;e++)y[e].draw()}const h=document.getElementById("canvas1"),x=h.getContext("2d");h.height=576;h.width=1344;const g=64,f=64,B=new Image;B.src="./images/hovertile.png";class A{constructor(t,n){s(this,"x");s(this,"y");s(this,"width");s(this,"height");s(this,"isHovered");this.x=t,this.y=n,this.width=g,this.height=f,this.isHovered=!1}draw(){this.isHovered&&x.drawImage(B,this.x,this.y,this.width,this.height)}}const d=[];function R(){for(let e=64;e<h.height-64;e+=f)for(let t=0;t<h.width;t+=g)d.push(new A(t,e))}R();console.log(d);function E(){for(let e=0;e<d.length;e++)d[e].draw()}h.addEventListener("mousemove",function(e){const t=h.getBoundingClientRect(),n=e.clientX-t.left,l=e.clientY-t.top;let i=null,o=null;for(let r=0;r<d.length;r++){const c=d[r];if(n>=c.x&&n<c.x+c.width&&l>=c.y&&l<c.y+c.height){i=c.y,o=c.x;break}}for(let r=0;r<d.length;r++){const c=d[r];c.x===o||c.y===i?c.isHovered=!0:c.isHovered=!1}E()});function w(){x.clearRect(0,0,h.width,h.height),E(),O(),requestAnimationFrame(w)}w();const X=document.getElementById("startButton");X.addEventListener("click",()=>{C(),w()});H();
